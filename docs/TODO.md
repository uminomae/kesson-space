# TODO — タスクバックログ

**最終更新**: 2026-02-15
**管理ルール**: 本ファイルがタスクの正本。CURRENT.mdは「今セッションの作業」に集中する。

---

## 優先度の定義

| 優先度 | 意味 |
|--------|------|
| 🔴 P0 | ユーザー体験を損なうバグ・障害。即対応 |
| 🟡 P1 | 次に着手すべき改善。セッション1〜2で完了する規模 |
| 🟢 P2 | やりたいが急がない。機会があれば |
| ⚪ P3 | アイデア段階。検討のみ |

## サイズの定義

| サイズ | 目安 |
|--------|------|
| S | 〜30分。設定変更、小修正 |
| M | 1〜2時間。機能追加、リファクタリング |
| L | 半日〜1日。設計+実装が必要 |
| XL | 複数セッション。大規模機能 |

---

## バックログ

### 🔴 P0（即対応）

なし

### 🟡 P1（次に着手）

| ID | タスク | サイズ | カテゴリ | メモ |
|----|--------|--------|----------|------|
| T-043 | devlog遷移UX改善（アニメーション・状態表示・戻るボタン強化） | M | UX | T-040フォロー。課題: 遷移が唐突、戻るボタン目立たない、現在位置不明 |

### 🟢 P2（急がない）

| ID | タスク | サイズ | カテゴリ | メモ |
|----|--------|--------|----------|------|
| T-006 | English PDF作成 | M | コンテンツ | ナビの英語版リンク先が未作成 |
| T-007 | パフォーマンスプロファイリング | M | 品質 | フレームレート・メモリ使用量の計測 |
| T-015 | モバイル実機テスト検証 | S | QA | T-003の残り。主要デバイスでの動作確認・エッジケース |
| T-016 | Uniform管理の一元化 | M | リファクタ | main.jsの6つの`*_MAP`をconfig.js側メタデータに統合。Issue #5 残項目 |
| T-017 | devパラメータレジストリ化 | M | リファクタ | dev-panel.jsのSECTIONSとmain.jsのMAP/applyDevValueを統一レジストリに。T-016とセットが効率的 |
| T-018 | CSS所在整理 | M | リファクタ | index.htmlの巨大`<style>`(約200行)とviewer.js/nav-objects.js/dev-panel.jsのstyle注入を`assets/*.css`に分離 |
| T-019 | main.js責務分割 | L | リファクタ | animate()ループとinput管理を`animation-loop.js`/`input-manager.js`に分離。現在約12KB |
| T-021 | nav-objects.js分割 | M | リファクタ | gem/label/orbの3責務を分離。現在約15KB |
| T-038 | devlog.yml CI再有効化 | S | CI | 現在無効化中。generate-sessions.py修正済み。マージ後に再有効化可能 |
| T-042 | ワークツリー同期チェック機能 | M | プロセス | 委譲指示時にワークツリー同期状態を確認・促進。開始ブランチ明示、同期用gitスクリプト作成。project-management-agent.md改善 |

### ⚪ P3（アイデア）

| ID | タスク | サイズ | カテゴリ | メモ |
|----|--------|--------|----------|------|
| T-011 | 音響の検討 | L | 体験 | 世界観に合う音響設計 |
| T-012 | 欠損データ構造設計 | L | 設計 | 理論側との連携。kesson-thinkingで先に決定が必要 |
| T-022 | dev-panel.js UI/Controller分離 | M | リファクタ | HTML生成とロジック混在（約22KB）。UIテンプレートとControllerに分離 |
| T-025 | ビルドツール導入検討 | L | 設計 | Vite等。現状の「ビルド無し」方針が強みなので今すぐ不要寄り |

---

## 完了済み（直近）

| ID | タスク | 完了セッション |
|----|--------|---------------|
| T-040 | devlog詳細画面遷移のBootstrap対応（Modal→Offcanvas内ビュー切替） | #32 |
| T-041 | devlog session/image日付整合性確認・修正 | #31 |
| T-039b | カバー画像自動生成スクリプト | #30 |
| T-039a | generate-sessions.py マージモード修正 | #29 |
| T-039c | session-004/005記事下書き生成 | #29 |
| T-037 | session-004/005コンテンツ執筆 | #29 |
| T-033 | Bootstrap未使用箇所の洗い出し | #28 |
| T-036 | devlog日時表示を年月日に変更 | #27 |
| T-004 | lang=en E2Eテスト追加 | #27 |
| T-005 | devパネル E2Eテスト追加 | #27 |
| T-035 | devlog詳細Markdownパース不具合 | #27 |
| T-034 | devlog画像ライトボックス | #26 |
| T-028 | devlogカードメタ情報を画像下に移動 | #26 |
| T-031 | インフォグラフィック画像化 | #26 |
| T-032 | README.md監督構造セクション新設 | #26 |
| T-026a | devlog詳細ページHTML雛形作成 | #24 |
| T-026b | devlog詳細ページCSS作成 | #24 |
| T-026c | session-001コンテンツ執筆 | #24 |
| T-026d | オーブ→詳細ページ遷移実装 | #24 |
| T-026e | devlog多言語対応(i18n) | #24 |
| T-026f | 残りセッションコンテンツ | #24 |
| T-020 | CSS注入の共通化 | #24 |
| T-023 | Magic Numbers集約 | #24 |
| T-024 | 呼吸値・アニメーションhelpers共通化 | #24 |
| T-027 | devlogカード16:9アスペクト比修正 | #24 |
| — | `?test` eval排除 → dynamic import() | #23 |
| T-010 | マウストラッキング統合（mouse-state.js新設） | #22 |
| T-014 | 全モジュールdispose/cleanupパターン | #22 |
| T-003 | モバイル対応（タッチ操作・レスポンシブ・スクロールUX） | #22 確認 |
| T-013 | PROMPT-STRUCTURE.md → skills/ 吸収 | #22 |
| — | createGemOrbMaterial抽出 + destroyControls追加 | #21 |
| T-008 | applyDevValue ifチェーン→ルックアップテーブル | #21 (Codex) |
| T-002 | favicon link rel追加 | #16 |

## 削除済み

| ID | タスク | 理由 |
|----|--------|------|
| T-001 | LCP FAIL対応 | WebGL SPAの構造的問題でありFCP 0.09sで体感問題なし |
| T-009 | dispose()追加 | T-014に包含。重複のため統合 |
| T-039 | devlogセッション記事が日付順になっていない＋画像更新 | サブタスク化（T-039a/b/c）のため親タスク削除 |

---

## 運用ルール

1. **新タスク発見時**: 本ファイルにIDを採番して追加。CURRENT.mdには書かない
2. **セッション開始時**: 本ファイルからタスクを選び、CURRENT.mdの「進行中」に記載
3. **セッション終了時**: 完了したタスクを「完了済み」セクションに移動。CURRENT.mdも更新
4. **優先度変更**: 状況に応じて随時。変更理由をコミットメッセージに記載
5. **大規模タスク**: docs/issues/ にISS-NNNとして詳細設計書を起票（ISS-001の前例に倣う）
6. **対話終了時（Claude）**: 対話終了前に必ず以下を実行し、コミット・プッシュする
   - CURRENT.md: セッション番号・日付・実施内容を更新
   - TODO.md: 完了タスクを「完了済み」に移動、新規発見タスクを追加
   - コミットメッセージ: `docs: session #XX end — update CURRENT/TODO`
