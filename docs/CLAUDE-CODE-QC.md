# Claude Code CLI 品質管理

## 役割定義

- CLIは**指示書の実行者**。プロジェクト管理はしない
- DT (Claude.ai) → 指示書 → CLI実行 → 結果報告

---

## 1. 受領ルーチン（指示書を受け取った時）

指示書から以下を抽出し、作業前に確認:

| 項目 | 確認内容 |
|------|---------|
| ワークツリー | パスが存在すること (`ls` で確認) |
| ブランチ | 指定ブランチにチェックアウト + リモート同期 |
| 対象ファイル | 変更対象が明示されていること |
| 完了条件 | 何をもって完了とするか |

### 手順

1. ワークツリー存在確認 + ブランチ同期実行
2. クリーンな作業ツリーであることを確認 (`git status`)
3. 負荷判定を実施

### 負荷判定

| レベル | 基準 | 対応 |
|--------|------|------|
| 🟢 低 | 1-2ファイル、明確な変更 | そのまま着手 |
| 🟡 中 | 3-5ファイル、または設計判断あり | 作業方針を報告してから着手 |
| 🔴 高 | 6ファイル以上、大規模変更 | 分割を提案してから着手 |

---

## 2. 実行中の品質管理

- 指定ワークツリーでのみ作業する
- 対象ファイル外を変更しない
- 不要なファイル読み込みを回避し、コンテキストを節約する
- 🔴高負荷の場合は分割を提案してから着手する

---

## 3. 完了ルーチン

1. 完了条件を1つずつ照合
2. コミットメッセージは指示書の形式に従う
3. push完了を確認
4. 変更サマリを報告（変更ファイル一覧 + 概要）

---

## 禁止事項

- 指示書にないファイルの変更
- プロジェクト管理書類 (CURRENT.md等) の自主更新
- ワークツリー未確認での作業開始
- 指示スコープ外のリファクタリング

---

## 参照

- [skills/shared-quality.md](../skills/shared-quality.md) — コーディング品質基準（パフォーマンス、コード規約、テスト等）
