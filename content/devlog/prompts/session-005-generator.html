<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Devlog Cover - Part 5: Read More UI</title>
    <style>
        body { margin: 0; overflow: hidden; background-color: #0a0e1a; font-family: sans-serif; }
        #coverCanvas { display: block; }
    </style>
</head>
<body>
    <canvas id="coverCanvas" width="1920" height="1080"></canvas>

    <script>
        const canvas = document.getElementById('coverCanvas');
        const ctx = canvas.getContext('2d');
        const W = canvas.width;
        const H = canvas.height;

        const blue = '#4a90d9';
        const cyan = '#00d4ff';
        const amber = '#f59e0b';
        const dimWhite = 'rgba(255,255,255,0.85)';
        const dimGray = 'rgba(180,200,230,0.4)';

        // Background
        ctx.fillStyle = '#0a0e1a';
        ctx.fillRect(0, 0, W, H);

        // Subtle grid
        ctx.strokeStyle = 'rgba(74,144,217,0.06)';
        ctx.lineWidth = 1;
        for (let x = 0; x < W; x += 60) { ctx.beginPath(); ctx.moveTo(x, 0); ctx.lineTo(x, H); ctx.stroke(); }
        for (let y = 0; y < H; y += 60) { ctx.beginPath(); ctx.moveTo(0, y); ctx.lineTo(W, y); ctx.stroke(); }

        // Title
        ctx.font = 'bold 78px "Noto Sans JP", "Hiragino Kaku Gothic ProN", sans-serif';
        ctx.fillStyle = cyan;
        ctx.textAlign = 'center';
        ctx.fillText('Part 5: Read More UI', W / 2, 135);

        // Subtitle
        ctx.font = '33px "Noto Sans JP", sans-serif';
        ctx.fillStyle = blue;
        ctx.fillText('2026-02-15', W / 2, 195);

        // Timeline
        const tlY = 380;
        const tlLeft = 150;
        const tlRight = W - 150;

        ctx.strokeStyle = blue;
        ctx.lineWidth = 3;
        ctx.beginPath();
        ctx.moveTo(tlLeft, tlY);
        ctx.lineTo(tlRight, tlY);
        ctx.stroke();

        // Items
        const items = [
            { text: 'Three.js →\nBootstrapカード', sub: '3列レスポンシブ' },
            { text: '18セッション\n→ 3パート統合', sub: 'レポート形式' },
            { text: 'Markdown\nパース対応', sub: 'marked.js' },
            { text: 'Read More\n→ Offcanvas', sub: '右85%スライドイン' },
            { text: '無限スクロール', sub: '10件/バッチ' },
            { text: 'hero-spacer\n125vh縮小', sub: 'devlog早期可視化' },
        ];

        const spacing = (tlRight - tlLeft) / (items.length - 1);

        items.forEach((item, i) => {
            const x = tlLeft + i * spacing;
            const above = i % 2 === 0;

            // Dot
            ctx.beginPath();
            ctx.arc(x, tlY, 11, 0, Math.PI * 2);
            ctx.fillStyle = amber;
            ctx.fill();
            ctx.strokeStyle = '#0a0e1a';
            ctx.lineWidth = 3;
            ctx.stroke();

            // Connector line
            const lineLen = above ? -75 : 75;
            ctx.strokeStyle = 'rgba(74,144,217,0.3)';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(x, tlY + (above ? -15 : 15));
            ctx.lineTo(x, tlY + lineLen);
            ctx.stroke();

            // Text
            const textY = above ? tlY - 98 : tlY + 105;
            const lines = item.text.split('\n');

            ctx.font = 'bold 24px "Noto Sans JP", sans-serif';
            ctx.fillStyle = dimWhite;
            ctx.textAlign = 'center';
            lines.forEach((line, li) => {
                ctx.fillText(line, x, textY + li * 30);
            });

            // Sub text
            ctx.font = '18px "Noto Sans JP", sans-serif';
            ctx.fillStyle = dimGray;
            ctx.fillText(item.sub, x, textY + lines.length * 30 + 6);
        });

        // Technical decisions + Quality box (two columns)
        const boxW = 780;
        const boxGap = 40;
        const boxTotalW = boxW * 2 + boxGap;
        const boxStartX = (W - boxTotalW) / 2;
        const boxY = 600;
        const boxH = 330;

        // Left box: Technical decisions
        ctx.fillStyle = 'rgba(74,144,217,0.08)';
        ctx.strokeStyle = 'rgba(74,144,217,0.2)';
        ctx.lineWidth = 1;
        ctx.beginPath();
        ctx.roundRect(boxStartX, boxY, boxW, boxH, 12);
        ctx.fill();
        ctx.stroke();

        ctx.font = 'bold 24px "Noto Sans JP", sans-serif';
        ctx.fillStyle = cyan;
        ctx.textAlign = 'left';
        ctx.fillText('技術的判断', boxStartX + 30, boxY + 45);

        const techItems = [
            '3Dカード → Bootstrapカード移行',
            'レスポンシブ・可読性・保守性を優先',
            'Offcanvas 85%: Three.jsキャンバス共存',
            'CI自動生成の本番データ上書き対処',
        ];

        ctx.font = '21px "Noto Sans JP", sans-serif';
        techItems.forEach((d, i) => {
            ctx.fillStyle = amber;
            ctx.fillText('▸', boxStartX + 30, boxY + 90 + i * 48);
            ctx.fillStyle = dimWhite;
            ctx.fillText(d, boxStartX + 60, boxY + 90 + i * 48);
        });

        // Right box: Quality & Ops
        const rightX = boxStartX + boxW + boxGap;
        ctx.fillStyle = 'rgba(74,144,217,0.08)';
        ctx.strokeStyle = 'rgba(245,158,11,0.2)';
        ctx.lineWidth = 1;
        ctx.beginPath();
        ctx.roundRect(rightX, boxY, boxW, boxH, 12);
        ctx.fill();
        ctx.stroke();

        ctx.font = 'bold 24px "Noto Sans JP", sans-serif';
        ctx.fillStyle = amber;
        ctx.textAlign = 'left';
        ctx.fillText('品質 & 運用', rightX + 30, boxY + 45);

        const qualityItems = [
            'TC-E2E-12: sessions.json整合性チェック',
            'E2Eテスト拡充 (devパネル・言語切替)',
            'エージェント協調ルール v1.0策定',
            'README.md監督構造セクション新設',
        ];

        ctx.font = '21px "Noto Sans JP", sans-serif';
        qualityItems.forEach((d, i) => {
            ctx.fillStyle = cyan;
            ctx.fillText('▸', rightX + 30, boxY + 90 + i * 48);
            ctx.fillStyle = dimWhite;
            ctx.fillText(d, rightX + 60, boxY + 90 + i * 48);
        });

        // Footer
        ctx.font = '21px "Noto Sans JP", sans-serif';
        ctx.fillStyle = dimGray;
        ctx.textAlign = 'center';
        ctx.fillText('kesson-space devlog — Three.js → Bootstrap移行 + Offcanvas無限スクロール', W / 2, H - 30);
    </script>
</body>
</html>
